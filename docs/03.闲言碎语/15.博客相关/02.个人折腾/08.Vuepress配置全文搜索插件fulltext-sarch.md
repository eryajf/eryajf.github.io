---
title: Vuepressé…ç½®å…¨æ–‡æœç´¢æ’ä»¶fulltext-sarch
titleTag: åŸåˆ›
date: 2021-07-05 23:49:31
permalink: /pages/8aafb1/
categories:
  - é—²è¨€ç¢è¯­
  - åšå®¢ç›¸å…³
  - ä¸ªäººæŠ˜è…¾
tags:
  - Vuepress
  - plugin
  - fulltext-sarch

description:
---

## 1ï¼Œä¿¡æ¯

- [vuepress-plugin-fulltext-searchå®˜ç½‘](https://github.com/leo-buneev/vuepress-plugin-fulltext-search)

- æ•ˆæœï¼š

  ![image-20210705235316438](http://t.eryajf.net/imgs/2021/09/a2ff83b9c8819036.jpg)

## 2ï¼Œå®‰è£…

```sh
npm i vuepress-plugin-fulltext-search -D
# or
yarn add -D vuepress-plugin-fulltext-search -D
```

## 3ï¼Œé…ç½®

### 1ï¼Œæ·»åŠ 

ä¿®æ”¹`docs/.vuepress/config.js`æ–‡ä»¶ï¼Œæ·»åŠ æ’ä»¶`fulltext-search`

```sh
// docs/.vuepress/config.js
module.exports = {
  plugins: ['fulltext-search'],
}
```

å¦‚æœæŸä¸ªé¡µé¢ä¸æƒ³è¢«æœç´¢ï¼Œå¯ä»¥åœ¨æ–‡æ¡£å¤´éƒ¨åˆ†æ·»åŠ `search: false`

```sh
---
search: false
---

<!-- page content -->
```

### 2ï¼Œä¼˜åŒ–

é»˜è®¤æƒ…å†µä¸‹ï¼Œæœç´¢å…³é”®å­—çš„ç»“æœæ˜¯ä¸‹åˆ’çº¿çš„ï¼Œæ²¡æœ‰é«˜äº®ã€‚é˜…è¯»ä¸‹æºç ï¼Œå¯å¾—çŸ¥å¯¹æœç´¢ç»“æœå¦‚ä½•é«˜äº®ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š

```css
// æœç´¢ç»“æœæ ·å¼
.suggestions {
  max-height: 80vh; // æœç´¢ç»“æœæ¡†é«˜åº¦è‡ªé€‚åº”
  overflow-y: scroll;
}
.suggestions .highlight{
  color: #646cff
  font-weight: bold
}
```

> ä¿®æ”¹æ–‡ä»¶`.vuepress/styles/index.styl`, æ·»åŠ æ ·å¼ï¼šé«˜äº®å’ŒåŠ ç²—

### 3ï¼Œä¿®æ”¹å¿«æ·é”®

é€šè¿‡æºç é˜…è¯»`SearchBox.vue`ï¼Œæœ‰ä¸‰ä¸ªå…¨å±€å˜é‡`SEARCH_MAX_SUGGESTIONS,SEARCH_PATHS,SEARCH_HOTKEYS`ï¼Œ

- SEARCH_MAX_SUGGESTIONS å®šä¹‰æœ€å¤§æœç´¢ç»“æœæ•°æ®
- SEARCH_PATHS æœç´¢è·¯å¾„
- SEARCH_HOTKEYS å¿«æ·é”®

**é‚£å¦‚ä½•å®šä¹‰ï¼Œæ‰èƒ½ä½¿å¾—ä¸‰ä¸ªå…¨å±€å˜é‡ç”Ÿæ•ˆäº†ï¼Ÿ**

1.è‡ªå®šä¹‰jsæ–‡ä»¶ï¼Œæ”¾åˆ°`.vuepress/public/js`ç›®å½•ä¸‹ï¼Œå‘½ä»¤ä¸º`pgmanor-self.js`

```sh
// vuepress-plugin-fulltext-search æ·»åŠ å…¨å±€é…ç½®
SEARCH_MAX_SUGGESTIONS = 10;
SEARCH_PATHS = [];
SEARCH_HOTKEYS = ['s', 'i'];
```

2.åœ¨`config.js`ä¸­headä¸­ï¼Œå°†å…¶æ·»åŠ å¼•å…¥

```sh
module.exports = {
    head: [
        // å¼•å…¥è‡ªå®šä¹‰js
        ["script", {"language": "javascript", "type": "text/javascript", "src": "/js/pgmanor-self.js"}]
    ]
}
```

> å¯åŠ¨åï¼Œè¾“å…¥`s`æˆ–`i`éªŒè¯ï¼Œå…‰æ ‡æ˜¯å¦è¿›å…¥æœç´¢æ¡†

3. æ·»åŠ æœç´¢æ¡†æç¤º

å¯ä»¥åœ¨ä¸»é…ç½®æ–‡ä»¶`themeConfig.js`ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

```yml
searchPlaceholder: "æŒ‰ä¸‹ ğ‘º æœç´¢", // å¯é€‰ï¼šæœç´¢æ å ä½æ–‡æœ¬
```

å‘ˆç°æ•ˆæœå¦‚æœ¬åšå®¢æœç´¢æ¡†æ‰€ç¤ºã€‚