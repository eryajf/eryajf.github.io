(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{465:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("ä¹‹å‰åœ¨ ldap çš„æ–‡ç« é‡Œæœ‰æåˆ° NGINX ç»“åˆ ldap è®¤è¯ä¸€äº›å…¬å…±æœåŠ¡çš„æ—¶å€™ï¼Œä¼šéå¸¸æ–¹ä¾¿ï¼Œé‚£ä¹ˆå¦‚ä½•å°†æˆ‘ä»¬éœ€è¦çš„ ldap æ¨¡å—å„¿æ·»åŠ åˆ°éƒ¨ç½²å¥½äº†çš„ openresty ä¸­å‘¢ï¼Œè¿™ç¯‡æ–‡ç« å°±æ¥è®²è§£ä¸€ä¸‹ã€‚")]),s._v(" "),t("h2",{attrs:{id:"_1-ä¸‹è½½ç›¸å…³åŒ…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¸‹è½½ç›¸å…³åŒ…"}},[s._v("#")]),s._v(" 1ï¼Œä¸‹è½½ç›¸å…³åŒ…")]),s._v(" "),t("p",[s._v("å¦‚æœä¹‹å‰å®‰è£…ä¹‹åï¼Œåˆ é™¤äº†å®‰è£…åŒ…ï¼Œç°åœ¨æ‰¾ä¸åˆ°äº†ï¼Œé‚£ä¹ˆå¯ä»¥ä»å¦‚ä¸‹ç½‘ç«™ä¸‹è½½ä¸å½“å‰ä¸€è‡´çš„ç‰ˆæœ¬ã€‚")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://openresty.org/download/openresty-1.13.6.2.tar.gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ä¸‹è½½æ‰€éœ€çš„ ldap æ¨¡å—å„¿ï¼Œé¡¹ç›®åœ°å€ä¸ºï¼šhttps://github.com/kvspb/nginx-auth-ldap.git è€ƒè™‘åˆ°ä¸å¥½ä¸‹è½½ï¼Œäºæ˜¯ç›´æ¥åœ¨å›½å†…åŒæ­¥äº†ä¸€ä»½ã€‚")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ³¨æ„æ‹‰å–ä»£ç å­˜æ”¾ä½ç½®")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://gitee.com/eryajf/nginx-auth-ldap.git\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("æ¥ä¸‹æ¥å°±è¿›å…¥æ­£å¼çš„ç¼–è¯‘å®‰è£…äº†ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/61fd0c1a6d17c72b.jpg",alt:"img"}})]),s._v(" "),t("h2",{attrs:{id:"_2-å®‰è£…ä¾èµ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-å®‰è£…ä¾èµ–"}},[s._v("#")]),s._v(" 2ï¼Œå®‰è£…ä¾èµ–")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc gcc-c++ pcre pcre-devel openldap-devel lua-devel systemtap-sdt-devel openssl-devel openssl\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block note"},[t("p",{staticClass:"custom-block-title"},[s._v("ç”³æ˜")]),s._v(" "),t("p",[t("strong",[s._v("åŸåˆ›æ–‡ç« "),t("Badge",{attrs:{text:"eryajf"}}),s._v("ï¼Œæœªç»æˆæƒï¼Œä¸¥ç¦è½¬è½½ï¼Œä¾µæƒå¿…ç©¶ï¼æ­¤ä¹ƒæ–‡ä¸­éšæœºæ°´å°ï¼Œæ•¬è¯·è¯»è€…è°…è§£ã€‚")],1)]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v("Copyright "),t("a",{attrs:{href:"https://wiki.eryajf.net",target:"_blank",rel:"noopener noreferrer"}},[s._v("äºŒä¸«è®²æ¢µ"),t("OutboundLink")],1),s._v(" ç‰ˆæƒæ‰€æœ‰")])])]),s._v(" "),t("h2",{attrs:{id:"_3-è¿›è¡Œç¼–è¯‘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-è¿›è¡Œç¼–è¯‘"}},[s._v("#")]),s._v(" 3ï¼Œè¿›è¡Œç¼–è¯‘")]),s._v(" "),t("p",[s._v("éœ€è¦æ³¨æ„"),t("code",[s._v("ç¼–è¯‘å¹¶ä¸èƒ½åœ¨ openresty æ ¹ç›®å½•è¿›è¡Œï¼Œå¦åˆ™å°†ä¼šå¤±è´¥ã€‚å·²ç»æœ‰åŒå­¦åœ¨è¿™é‡Œè¸©å‘äº†ğŸ¤£ğŸ¤£ğŸ¤£")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xf openresty-1.13.6.2.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" openresty-1.13.6.2/bundle/nginx-1.13.6/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ç„¶åå†è¿›è¡Œç¼–è¯‘ï¼š")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("./configure "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/openresty/nginx --with-cc-opt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-O2 -DNGX_LUA_ABORT_AT_PANIC -I/usr/local/openresty/zlib/include -I/usr/local/openresty/pcre/include -I/usr/local/openresty/openssl/include'")]),s._v(" --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/ngx_devel_kit-0.3.0 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/echo-nginx-module-0.61 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/xss-nginx-module-0.06 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/ngx_coolkit-0.2rc3 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/set-misc-nginx-module-0.32 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/form-input-nginx-module-0.12 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/encrypted-session-nginx-module-0.08 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/srcache-nginx-module-0.31 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/ngx_lua-0.10.13 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/ngx_lua_upstream-0.07 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/headers-more-nginx-module-0.33 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/array-var-nginx-module-0.05 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/memc-nginx-module-0.19 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/redis2-nginx-module-0.15 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/redis-nginx-module-0.3.7 --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/ngx_stream_lua-0.0.5 --with-ld-opt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-Wl,-rpath,/usr/local/openresty/luajit/lib -L/usr/local/openresty/zlib/lib -L/usr/local/openresty/pcre/lib -L/usr/local/openresty/openssl/lib -Wl,-rpath,/usr/local/openresty/zlib/lib:/usr/local/openresty/pcre/lib:/usr/local/openresty/openssl/lib'")]),s._v(" --with-pcre-jit --with-stream --with-stream_ssl_module --with-http_v2_module --without-mail_pop3_module --without-mail_imap_module --without-mail_smtp_module --with-http_stub_status_module --with-http_realip_module --with-http_addition_module --with-http_auth_request_module --with-http_secure_link_module --with-http_random_index_module --with-http_gzip_static_module --with-http_sub_module --with-http_dav_module --with-http_flv_module --with-http_mp4_module --with-http_gunzip_module --with-threads --with-file-aio --with-dtrace-probes --with-http_image_filter_module --with-stream --with-stream_ssl_module --with-http_ssl_module --add-module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/nginx-auth-ldap\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("æ³¨æ„å¦‚ä¸Šæ­¥éª¤ï¼Œ"),t("code",[s._v("å¦‚æœåœ¨ä¸€ä¸ªå·²ç»å®‰è£…è¿‡openrestyçš„ç¯å¢ƒä¸­æ–°å¢ï¼Œåˆ™éœ€è¦å…ˆæŠŠåŸæ¥çš„å®‰è£…åŒ…ç§»èµ°")]),s._v("ï¼Œä¸ç„¶ä¸‹è¾¹ make çš„æ—¶å€™ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("/bin/ld: warning: libssl.so.10, needed by /usr/lib/gcc/x86_64-redhat-linux/4.8.5/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/lib64/libldap.so, may conflict with libssl.so.1.1\n/bin/ld: objs/src/event/ngx_event_openssl.o: undefined reference to symbol "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SSL_CTX_get_ex_new_index@@libssl.so.10'")]),s._v("\n/usr/lib64/libssl.so.10: error adding symbols: DSO missing from "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" line\ncollect2: error: ld returned "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" status\nmake"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": *** "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("objs/nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Error "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nmake"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Leaving directory `/usr/local/src/openresty-1.13.6.2/bundle/nginx-1.13.6'\nmake: *** "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("build"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Error "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("å®‰è£…ï¼š")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("å®‰è£…å®Œæˆä¹‹åï¼Œé‡æ–°è½¯é“¾ä¸€ä¸‹ nginx çš„ä¸»ç¨‹åºï¼Œå°±å¯ä»¥æŠ•å…¥ä½¿ç”¨äº†ã€‚")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-snf")]),s._v(" /usr/local/openresty/nginx/sbin/nginx  /usr/sbin/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_4-é…ç½®å‚è€ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-é…ç½®å‚è€ƒ"}},[s._v("#")]),s._v(" 4ï¼Œé…ç½®å‚è€ƒ")]),s._v(" "),t("p",[s._v("å…·ä½“ NGINX é…ç½® ldap è®¤è¯ï¼Œå¯ä»¥å‚è€ƒå¦‚ä¸‹æ–‡ç« ï¼šhttps://wiki.eryajf.net/pages/3416.html#_6-nginx")])])}),[],!1,null,null,null);t.default=n.exports}}]);