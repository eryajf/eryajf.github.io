(window.webpackJsonp=window.webpackJsonp||[]).push([[215],{557:function(s,a,t){"use strict";t.r(a);var e=t(0),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("有人可能会觉得，有了 go-ldap-admin 这个平台之后，就不需要再了解这些查询方面的知识了，其实这是一个误区，go-ldap-admin 平台的确接管了 ldap 的一应管理，但是 ldap 终究还是要对接到第三方应用，这个时候，掌握一点简单的查询语法，就是很有必要的。")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://t.eryajf.net/imgs/2023/02/7f4d74f47e3e2773.jpg",alt:""}})]),s._v(" "),a("p",[s._v("一般情况下，命令行中我们使用"),a("a",{attrs:{href:"https://command-not-found.com/ldapsearch",target:"_blank",rel:"noopener noreferrer"}},[s._v("ldapsearch"),a("OutboundLink")],1),s._v("来进行搜索。")]),s._v(" "),a("h2",{attrs:{id:"简单搜索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单搜索"}},[s._v("#")]),s._v(" 简单搜索")]),s._v(" "),a("p",[s._v("一般情况下，你可以直接运行如下命令执行搜索：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("search_base"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ldap_host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("bind_dn"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("-x")]),s._v("：表示简单的身份认证。")]),s._v(" "),a("li",[a("code",[s._v("-b")]),s._v("：指定搜索的 DC。")]),s._v(" "),a("li",[a("code",[s._v("-H")]),s._v("：指定搜索的主机 URL，如果你是在 LDAP 服务器上，则不需要带这个参数。比如我这里为 "),a("code",[s._v("ldap://192.168.31.76:389")])]),s._v(" "),a("li",[a("code",[s._v("-D")]),s._v("：绑定的 DN。")]),s._v(" "),a("li",[a("code",[s._v("-W")]),s._v("：绑定的 DN 的密码。")])]),s._v(" "),a("p",[s._v("go-ldap-admin 初始化之后的数据，通过如下命令可以查询到：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=eryajf,dc=net"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v(" ldap://192.168.31.76:389 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=admin,dc=eryajf,dc=net"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dc")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: dcObject\nobjectClass: organization\no: eryajf.net\ndc: eryajf\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# admin, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nobjectClass: simpleSecurityObject\nobjectClass: organizationalRole\ncn: admin\ndescription: LDAP administrator\nuserPassword:: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("e1NTSEF9SXg2Zms0UnBLVVl4Y1JaVFZrZFNZN0tiVkZ1OGRYckQ")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# people, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("people,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: people\ndescription:: 55So5oi35qC555uu5b2V\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dingtalkroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dingtalkroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: dingtalkroot\ndescription:: 6ZKJ6ZKJ5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wecomroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("wecomroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: wecomroot\ndescription:: 5LyB5Lia5b6u5L+h5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# feishuroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("feishuroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: feishuroot\ndescription:: 6aOe5Lmm5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# search result")]),s._v("\nsearch: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nresult: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Success\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numResponses: 7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numEntries: 6")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br")])]),a("h2",{attrs:{id:"使用过滤器搜索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用过滤器搜索"}},[s._v("#")]),s._v(" 使用过滤器搜索")]),s._v(" "),a("p",[s._v("我们可以通过在搜索命令末尾添加过滤条件，来实现符合条件的搜索。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("previous_options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(object_type)=(object_value)"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("optional_attributes"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其中的条件可以添加多个，并且支持一定的逻辑运算符，接下来一一介绍。")]),s._v(" "),a("h3",{attrs:{id:"查找目录树中的所有对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查找目录树中的所有对象"}},[s._v("#")]),s._v(" 查找目录树中的所有对象")]),s._v(" "),a("p",[s._v("通过添加 "),a("code",[s._v('"objectclass=*"')]),s._v("的条件，我们可以检索到所有的对象信息：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=eryajf,dc=net"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v(" ldap://192.168.31.76:389 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=admin,dc=eryajf,dc=net"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"objectclass=*"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("执行结果与上边默认的一致。")]),s._v(" "),a("h3",{attrs:{id:"缩小查询范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缩小查询范围"}},[s._v("#")]),s._v(" 缩小查询范围")]),s._v(" "),a("p",[s._v("比如上边有四个 ou 对应用户，钉钉，飞书，企业微信的组织，我们可以通过如下条件，将这四个组织过滤出来：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=eryajf,dc=net"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v(" ldap://192.168.31.76:389 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=admin,dc=eryajf,dc=net"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"objectclass=organizationalUnit"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# people, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("people,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: people\ndescription:: 55So5oi35qC555uu5b2V\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dingtalkroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dingtalkroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: dingtalkroot\ndescription:: 6ZKJ6ZKJ5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wecomroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("wecomroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: wecomroot\ndescription:: 5LyB5Lia5b6u5L+h5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# feishuroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("feishuroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: feishuroot\ndescription:: 6aOe5Lmm5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# search result")]),s._v("\nsearch: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nresult: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Success\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numResponses: 5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numEntries: 4")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br")])]),a("p",[s._v("在过滤条件的后边，我们可以指定关心的属性进行查询：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=eryajf,dc=net"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v(" ldap://192.168.31.76:389 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=admin,dc=eryajf,dc=net"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"objectclass=organizationalUnit"')]),s._v(" dn ou\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# people, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("people,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: people\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dingtalkroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dingtalkroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: dingtalkroot\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wecomroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("wecomroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: wecomroot\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# feishuroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("feishuroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: feishuroot\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# search result")]),s._v("\nsearch: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nresult: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Success\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numResponses: 5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numEntries: 4")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("h2",{attrs:{id:"添加运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加运算符"}},[s._v("#")]),s._v(" 添加运算符")]),s._v(" "),a("h3",{attrs:{id:"逻辑与"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#逻辑与"}},[s._v("#")]),s._v(" 逻辑与")]),s._v(" "),a("p",[s._v("ldapsearch 使用"),a("code",[s._v("&")]),s._v("来表示逻辑与的运算，它的查询语法格式如下：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("previous_options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(&(<条件_1>)(<条件_2>)...)"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("注意上边的查询语法格式不要弄错。")]),s._v(" "),a("p",[s._v("比如，我们可以通过如下两个条件，来定位到 feishu(只是为了展示语法，不必纠结场景用法)：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=eryajf,dc=net"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v(" ldap://192.168.31.76:389 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=admin,dc=eryajf,dc=net"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(&(objectclass=organizationalUnit)(ou=feishu))"')]),s._v("\nEnter LDAP Password:\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# feishuroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("feishuroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: feishu\nou: feishuroot\ndescription:: 6aOe5Lmm5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# search result")]),s._v("\nsearch: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nresult: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Success\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numResponses: 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numEntries: 1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"逻辑或"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#逻辑或"}},[s._v("#")]),s._v(" 逻辑或")]),s._v(" "),a("p",[s._v("ldapsearch 使用"),a("code",[s._v("|")]),s._v("来表示逻辑或的运算，它的查询语法格式如下：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("previous_options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(|(<条件_1>)(<条件_2>)...)"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("比如，我们可以通过如下两个条件，来查询出飞书与钉钉的信息：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=eryajf,dc=net"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v(" ldap://192.168.31.76:389 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=admin,dc=eryajf,dc=net"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(|(ou=dingtalkroot)(ou=feishuroot))"')]),s._v("\nEnter LDAP Password:\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dingtalkroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dingtalkroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: dingtalkroot\ndescription:: 6ZKJ6ZKJ5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# feishuroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("feishuroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: feishu\nou: feishuroot\ndescription:: 6aOe5Lmm5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# search result")]),s._v("\nsearch: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nresult: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Success\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numResponses: 3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numEntries: 2")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h3",{attrs:{id:"逻辑非"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#逻辑非"}},[s._v("#")]),s._v(" 逻辑非")]),s._v(" "),a("p",[s._v("ldapsearch 使用!来表示逻辑非的运算，他的查询语法格式如下：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("previous_options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(!(<条件_1>))"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("比如，查询 ou 不是钉钉的方法如下：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=eryajf,dc=net"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v(" ldap://192.168.31.76:389 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=admin,dc=eryajf,dc=net"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(!(ou=dingtalkroot))"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("注意逻辑非不能直接多条件，如果想要多个条件，那么需要与其他逻辑进行嵌套使用，比如查询 ou 不是钉钉或者飞书，则可以用如下条件：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=eryajf,dc=net"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v(" ldap://192.168.31.76:389 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=admin,dc=eryajf,dc=net"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(!(|(ou=dingtalkroot)(ou=feishuroot)))"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("注意如上嵌套的格式，那么更复杂的条件，就可以在此基础上进行扩展应用。")]),s._v(" "),a("h3",{attrs:{id:"通配符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通配符"}},[s._v("#")]),s._v(" 通配符")]),s._v(" "),a("p",[s._v("ldap 的搜索中也可以使用通配符，常用的是"),a("code",[s._v("*")]),s._v("，搜索语法如下：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("previous_options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(object_type)=*(object_value)"')]),s._v("\n\n$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("previous_options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"(object_type)=(object_value)*"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("比如，我们可以搜索 ou 以 root 结尾的内容：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ldapsearch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=eryajf,dc=net"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-H")]),s._v(" ldap://192.168.31.76:389 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=admin,dc=eryajf,dc=net"')]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ou=*root"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dingtalkroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dingtalkroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: dingtalkroot\ndescription:: 6ZKJ6ZKJ5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wecomroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("wecomroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: wecomroot\ndescription:: 5LyB5Lia5b6u5L+h5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# feishuroot, eryajf.net")]),s._v("\ndn: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ou")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("feishuroot,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eryajf,dc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("net\nou: feishu\nou: feishuroot\ndescription:: 6aOe5Lmm5qC56YOo6Zeo\nobjectClass: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\nobjectClass: organizationalUnit\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# search result")]),s._v("\nsearch: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nresult: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Success\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numResponses: 4")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# numEntries: 3")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("h3",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),a("p",[s._v("ldapsearch 还支持其他一些逻辑运算符，比如：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v(">=")]),s._v("：查找特定项，该项中包含的属性的数字或字母值大于或等于指定的值。")]),s._v(" "),a("li",[a("code",[s._v("<=")]),s._v("：查找特定项，该项中包含的属性的数字或字母值小于或等于指定的值。")]),s._v(" "),a("li",[a("code",[s._v("~=")]),s._v("：查找特定项，该项中所含属性的值约等于指定的值。")])]),s._v(" "),a("h2",{attrs:{id:"命令参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令参数"}},[s._v("#")]),s._v(" 命令参数")]),s._v(" "),a("p",[s._v("ldapsearch 还有丰富的命令参数，罗列如下：")]),s._v(" "),a("table",[a("tbody",[a("tr",[a("td",[s._v("参数"),a("br")]),a("td",[s._v("用途")])]),a("tr",[a("td",[s._v("-a deref")]),a("td",[s._v("指定别名反向引用。请输入 never、always、search 或 find。如果不使用此参数，缺省为 never。")])]),a("tr",[a("td",[s._v("-A")]),a("td",[s._v("只检索属性的名称，而不检索属性的值。")])]),a("tr",[a("td",[s._v("-b base dn")]),a("td",[s._v('指定用作搜索起始点的专有名称。使用引号来指定该值，如："ou=Ops,dc=shuyun,dc=com". 如果要搜索的服务器需要指定搜索起点，则必须使用此参数。否则此参数是可选的。也可以同时使用 -b 和 -s 来确定搜索范围。没有 –s，-b 就会搜索指定为起始点的项以及该项的所有子项。')])]),a("tr",[a("td",[s._v("-B")]),a("td",[s._v("允许打印非 ASCII 值")])]),a("tr",[a("td",[s._v("-D bind dn")]),a("td",[s._v('指定服务器用于验证您的专有名称。名称必须与目录中的项相符，并且必须拥有搜索目录所需的权限。请使用引号来指定该名称，例如："cn=Manager,dc=shuyun,dc=com"。如果不使用此参数，则与服务器的连接是匿名的。如果服务器不允许匿名连接，则必须使用 -D。除了 -D，还必须使用 -w 参数来指定与专有名称相关联的口令。')])]),a("tr",[a("td",[s._v("-f file")]),a("td",[s._v('指定包含要使用的搜索过滤器的文件，如 -f 过滤器。请将每个搜索过滤器置于单独的一行。Ldapsearch 会对每一行执行一次搜索。可选择指定过滤模式。例如，指定 -f 过滤 "cn=%s"，并在文件的每一行中输入公用名称的值。')])]),a("tr",[a("td",[s._v("-F sep")]),a("td",[s._v("在属性名称和值之间打印 sep 而不是等号 (=)。例如，如果读取 ldapsearch 输出的工具希望使用其他的分隔符时，可以使用此参数。")])]),a("tr",[a("td",[s._v("-h host name")]),a("td",[s._v("指定要连接的服务器主机名，如 -h ldap.shuyun.com。")])]),a("tr",[a("td",[s._v("-l timelimit")]),a("td",[s._v("指定完成搜索的时间限制（秒）。如果没有指定此参数或指定的限制为 0，那么搜索就没有时间限制。但是，ldapsearch 的等待时间决不会超过服务器上设置的搜索时间限制。")])])])]),a("table",[a("tbody",[a("tr",[a("td",[s._v("-L")]),a("td",[s._v("指定以 LDIF 格式输出。LDIF 格式使用冒号 (:) 而不是等号 (=) 作为属性描述符。LDIF 对一次性添加或修改大量目录项很有帮助。例如，可以将输出内容引入兼容 LDAP 的目录中。")])]),a("tr",[a("td",[s._v("-M")]),a("td",[s._v("将参考对象作为普通项进行管理，以使 ldapsearch 可返回参考项本身的属性，而不是所参考的项的属性。")])]),a("tr",[a("td",[s._v("-n")]),a("td",[s._v("显示如何执行搜索，但不实际执行搜索")])]),a("tr",[a("td",[s._v("-p port")]),a("td",[s._v("指定服务器使用的端口。如果没有使用此参数，缺省情况下 ldapsearch 使用 389 端口。")])]),a("tr",[a("td",[s._v("-R")]),a("td",[s._v("不自动遵循服务器返回的搜索引用。请注意，Netscape 目录服务器将术语 referrals 用于搜索引用。")])]),a("tr",[a("td",[s._v("-s scope")]),a("td",[s._v("指定使用 -b 参数时的搜索范围："),a("p",[s._v("base -- 仅搜索 -b 参数指定的项")]),a("p",[s._v("onelevel -- 仅搜索 -b 参数指定项的直接子项，而不搜索该项本身")]),a("p",[s._v("subtree -- 搜索 -b 参数指定的项以及它的所有子项。这是不带 -s 时使用 -b 的缺省行为。")]),a("p",[s._v("指定 -b 和 -s 的顺序并不重要。")])])]),a("tr",[a("td",[s._v("-S attribute")]),a("td",[s._v("按指定的属性排序结果。")])]),a("tr",[a("td",[s._v("-z sizelimit")]),a("td",[s._v("指定返回项的最大数目。如果没有指定此参数或指定的限制为 0，那么返回的项没有数量限制。但是，ldapsearch 返回的项决不会多于服务器允许的数量。")])]),a("tr",[a("td",[s._v("-u")]),a("td",[s._v("指定 ldapsearch 以用户友好格式返回专有名称。")])]),a("tr",[a("td",[s._v("-v")]),a("td",[s._v("指定 ldapsearch 以详尽模式运行。")])])])]),a("table",[a("tbody",[a("tr",[a("td",[s._v("-w password")]),a("td",[s._v("指定与 -D 参数一起使用的与专有名称关联的口令。")])]),a("tr",[a("td",[s._v("x")]),a("td",[s._v("与 -S 一起使用时可指定 LDAP 服务器在将结果返回之前就对它们进行排序。如果使用 -S 而不使用 –x，ldapsearch 将对结果排序。")])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);