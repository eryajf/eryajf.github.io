(window.webpackJsonp=window.webpackJsonp||[]).push([[377],{723:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言。"}},[t._v("#")]),t._v(" 前言。")]),t._v(" "),s("p",[t._v("刚刚发完那个刁钻需求的文章，发现已经到了二十九篇了，而本篇的插件汇总也是我已经写了很久的文章，当然，不是写了很长很久，准确说，应该是积累了很久的一篇文章，里边包含了很多日常工作当中能够一下子解决你的痛痒的插件，可谓是，不犀利不推荐。")]),t._v(" "),s("p",[t._v("现在进入正题。")]),t._v(" "),s("h2",{attrs:{id:"_1-rebuilder。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-rebuilder。"}},[t._v("#")]),t._v(" 1，Rebuilder。")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://plugins.jenkins.io/rebuild")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：此插件可以直接重复上次构建，也可以用于查看一些参数比较复杂的构建时，上次构建所选的参数是什么。非常 nice 的一个插件。")])]),t._v(" "),s("h2",{attrs:{id:"_2-ansicolor。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ansicolor。"}},[t._v("#")]),t._v(" 2，AnsiColor。")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://plugins.jenkins.io/ansicolor")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：扩展支持我们在 shell 当中定义的 echo -e 指令，从而给一定的输出上颜色。")]),t._v(" "),s("li",[t._v("使用方式："),s("a",{attrs:{href:"http://blog.eryajf.net/1786.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("点此跳转到使用介绍。"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_3-maven-release-plug-in。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-maven-release-plug-in。"}},[t._v("#")]),t._v(" 3，Maven Release Plug-in。")]),t._v(" "),s("p",[t._v("maven 风格插件。")]),t._v(" "),s("ul",[s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")])]),t._v(" "),s("h2",{attrs:{id:"_4-user-build-vars。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-user-build-vars。"}},[t._v("#")]),t._v(" 4，user build vars。")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://wiki.jenkins.io/display/JENKINS/Build+User+Vars+Plugin")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：通过此插件，让整个 Jenkins 系统中的用户参数成为一个可调用的变量。")]),t._v(" "),s("li",[t._v("使用方式：在构建环境中选中 Set Jenkins user build variables。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/939f6d385c2408e4.jpg",alt:"image"}})]),t._v(" "),s("p",[t._v("选中之后，即可在当次构建的全程里调用对应的变量了。")]),t._v(" "),s("p",[t._v("变量分为如下几种：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Full name")]),t._v(" ：全名")]),t._v(" "),s("li",[s("code",[t._v("BUILD_USER_FIRST_NAME")]),t._v("：名字")]),t._v(" "),s("li",[s("code",[t._v("BUILD_USER_LAST_NAME")]),t._v(" ：姓")]),t._v(" "),s("li",[s("code",[t._v("BUILD_USER_ID")]),t._v(" ：Jenkins 用户 ID")]),t._v(" "),s("li",[s("code",[t._v("BUILD_USER_EMAIL")]),t._v(" ：用户邮箱")])]),t._v(" "),s("h2",{attrs:{id:"_5-active-choices-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-active-choices-plugin"}},[t._v("#")]),t._v(" 5，Active Choices Plugin")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://wiki.jenkins.io/display/JENKINS/Active+Choices+Plugin")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：根据所选参数，自动调出对应参数所依赖的后续参数。")]),t._v(" "),s("li",[t._v("使用方式："),s("a",{attrs:{href:"http://blog.eryajf.net/2075.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("点此跳转到使用介绍。"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_6-build-name-setter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-build-name-setter"}},[t._v("#")]),t._v(" 6，build-name-setter")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：http://wiki.jenkins.io/display/JENKINS/Build+Name+Setter+Plugin")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：通过这个插件，可以动态更改项目构建的名称。不要小瞧这个功能，有时候合理应用对于工作的效率提升，可是非常高的。比如，常用的钉钉插件推送的信息过于简单，有一些信息无法从中得知，其实它推送的就是项目构建的名称，这个时候我们可以通过更改项目名称，来直接将一些构建的变量进行传递。")]),t._v(" "),s("li",[t._v("使用方式："),s("a",{attrs:{href:"http://blog.eryajf.net/2274.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("可以通过这样一个妙用示例对其进行理解。"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_7-email-extension-template"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-email-extension-template"}},[t._v("#")]),t._v(" 7，Email Extension Template")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://wiki.jenkins.io/display/JENKINS/Email-ext+plugin")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：Jenkins 部署状态邮件通知插件。")]),t._v(" "),s("li",[t._v("使用方式："),s("a",{attrs:{href:"http://blog.eryajf.net/350.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("可以通过这样一个妙用示例对其进行理解。"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_8-description-setter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-description-setter"}},[t._v("#")]),t._v(" 8，description setter")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://wiki.jenkins.io/display/JENKINS/Description+Setter+Plugin")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：可以在构建名称下，定义一些描述信息的插件，也是非常好用的插件。")]),t._v(" "),s("li",[t._v("使用方式："),s("a",{attrs:{href:"http://blog.eryajf.net/2274.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("可以通过这样一个妙用示例对其进行理解。"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_9-git-parameter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-git-parameter"}},[t._v("#")]),t._v(" 9，Git Parameter")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：http://wiki.jenkins-ci.org/display/JENKINS/Git+Parameter+Plugin")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：在参数化构建步骤当中，可添加 Git 的 branch 或者 tag 来作为参数进行构建。")]),t._v(" "),s("li",[t._v("使用方式："),s("a",{attrs:{href:"http://blog.eryajf.net/1676.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("可以通过这样一个妙用示例对其进行理解。"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_10-role-based-strategy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-role-based-strategy"}},[t._v("#")]),t._v(" 10，Role-Based Strategy")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://wiki.jenkins.io/display/JENKINS/Role+Strategy+Plugin")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：生产当中常用的 Jenkins 用户视图权限管理插件。")]),t._v(" "),s("li",[t._v("使用方式："),s("a",{attrs:{href:"http://blog.eryajf.net/1445.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("可以通过这样一个妙用示例对其进行理解。"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_11-job-configuration-history-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-job-configuration-history-plugin"}},[t._v("#")]),t._v(" 11，Job Configuration History Plugin")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("官方地址：https://wiki.jenkins.io/display/JENKINS/JobConfigHistory+Plugin")])]),t._v(" "),s("li",[s("p",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")])]),t._v(" "),s("li",[s("p",[t._v("功能说明：jenkins 配置当中的后悔药，如果你更改了某个配置，但是现在又想更改回去，没有备份而且忘了，那么可以使用这个插件。")])]),t._v(" "),s("li",[s("p",[t._v("使用方式：提供有 diff 对比功能，以及回滚功能。")]),t._v(" "),s("p",[t._v("非常友好的配置更改历史记录： "),s("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/bcf5756ecad5e97e.jpg",alt:"image"}}),t._v(" 查看不同，以及配置回滚这里就不演示了。")])])]),t._v(" "),s("h2",{attrs:{id:"_12-simple-theme"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-simple-theme"}},[t._v("#")]),t._v(" 12，Simple Theme")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：http://afonsof.com/jenkins-material-theme/?tdsourcetag=s_pctim_aiomsg")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：可以自定义 Jenkins 主题的插件。")]),t._v(" "),s("li",[t._v("使用方式：使用方式见官方网站的说明，配置起来非常简单。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/e4b9672c65a97c3f.jpg",alt:"img"}})]),t._v(" "),s("h2",{attrs:{id:"_13-build-trigger-badge"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-build-trigger-badge"}},[t._v("#")]),t._v(" 13，Build Trigger Badge")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://wiki.jenkins-ci.org/display/JENKINS/Build+Trigger+Badge+Plugin")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：能够在项目视图首页展示项目构建人的插件。")]),t._v(" "),s("li",[t._v("使用方式：事实上这个功能之前我已经在可以通过这样一个妙用示例对其进行理解这篇文章里通过智慧使用其他方式实现了，只不过现在这个插件可以直接实现对应的功能。如果首页视图当中看不到，可以通过编辑视图，添加 cause 即可看到。")])]),t._v(" "),s("h2",{attrs:{id:"_14-console-column-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_14-console-column-plugin"}},[t._v("#")]),t._v(" 14，Console Column Plugin")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://wiki.jenkins.io/display/JENKINS/Console+Column+Plugin")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：能够在项目视图首页展示项目构建输出面板的地址。")]),t._v(" "),s("li",[t._v("使用方式：首页视图中，可以通过"),s("code",[t._v("编辑视图")]),t._v("，添加"),s("code",[t._v("Last Console")]),t._v("即可看到。")])]),t._v(" "),s("h2",{attrs:{id:"_15-display-console-output-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_15-display-console-output-plugin"}},[t._v("#")]),t._v(" 15，Display Console Output Plugin")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://plugins.jenkins.io/display-console-output")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：点击项目构建之后，可以直接在当前窗口显示构建日志。")]),t._v(" "),s("li",[t._v("使用方式：安装之后默认启用，随便点击一个自由风格的项目构建即可看到效果。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/608e49533a562ad8.jpg",alt:"image-20191207182918786"}})]),t._v(" "),s("h2",{attrs:{id:"_16-version-number"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_16-version-number"}},[t._v("#")]),t._v(" 16，Version Number")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://plugins.jenkins.io/versionnumber/")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：通过插件的方式提供更加丰富的构建版本号")]),t._v(" "),s("li",[t._v("使用方式：安装之后默认启用，随便点击一个自由风格的项目构建即可看到效果。")])]),t._v(" "),s("h2",{attrs:{id:"_17-figlet-buildstep"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_17-figlet-buildstep"}},[t._v("#")]),t._v(" 17，figlet-buildstep")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("官方地址：https://plugins.jenkins.io/figlet-buildstep/")])]),t._v(" "),s("li",[s("p",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")])]),t._v(" "),s("li",[s("p",[t._v("功能说明：这个插件允许你在构建过程中输出一个简单的横幅。")])]),t._v(" "),s("li",[s("p",[t._v("使用方式：使用方法我们可以在流水线语法中直接获取：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("figlet '\"start build\"'\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("如上代码放到任意地方，会得到如下输出：")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/af8ecebbe1a3baff.jpg",alt:"008k1Yt0gy1gtldstgu9uj60w80e20u902"}})])])]),t._v(" "),s("h2",{attrs:{id:"_18-hidden-parameter-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_18-hidden-parameter-plugin"}},[t._v("#")]),t._v(" 18，Hidden Parameter plugin")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("官方地址："),s("a",{attrs:{href:"https://plugins.jenkins.io/hidden-parameter",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://plugins.jenkins.io/hidden-parameter"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")])]),t._v(" "),s("li",[s("p",[t._v("功能说明：提供了一个隐藏参数项的功能，即可以添加一个参数，而并不会在构建页面显示。这种适用于一些不必展示的参数，使用接口调用构建时，也能通过调整该参数进行自定义构建。")])]),t._v(" "),s("li",[s("p",[t._v("使用方式")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("如果是 freestyle 风格的，则直接在页面配置即可：")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://t.eryajf.net/imgs/2022/05/9a855dbe07e17eb4.png",alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("如果是 pipeline 风格，则可通过如下方式进行定义，如下定义方式，我搜遍了全网，没有遇到直接给出定义方法的案例，看到这里，独此一家：")]),t._v(" "),s("div",{staticClass:"language-groovy line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//分支代码对应")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ChoiseEnv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'WHideParameterDefinition'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMMID'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" defaultValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'666'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("description"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'提交ID'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("properties")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parameters")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ChoiseEnv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\npipeline "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    agent any\n    environment "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 服务名称")]),t._v("\n        SERVICE_NAME"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("JOB_BASE_NAME")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),t._v("\n        MODE"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DEPLOY"')])]),t._v("\n        REASON"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"无"')])]),t._v("\n        REMOTE_HOST"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"占位"')])]),t._v("\n        _VERSION"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"测试验证"')])]),t._v("\n        ROBOT_KEY"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6a781aaf-0cda-41ab-9bd2-ed81ee7fc7"')])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 主项目地址")]),t._v("\n        GIT_URL "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://gitlab.eryajf.net/ops/test.git"')])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    parameters "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'BRANCH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" defaultValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'master'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" description"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入将要构建的代码分支'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    options "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("timestamps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出构建日志打印时间信息")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("timeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MINUTES'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置构建超时时间")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("buildDiscarder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("logRotator")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("numToKeepStr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'15'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置历史构建保留次数")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gitLabConnection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gitlab-token'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 操作gitlab的token")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    triggers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gitlab")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("triggerOnPush"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("triggerOnMergeRequest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("branchFilterType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'All'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("secretToken"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GIT_TOKEN")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 预留Gitlab提交自动构建")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    stages "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'拉取代码'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            steps "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                script "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GitSCM'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" doGenerateSubmoduleConfigurations"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" submoduleCfg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" extensions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CloneOption'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" depth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" noTags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reference"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" shallow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            branches"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("BRANCH")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("userRemoteConfigs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GIT_URL")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" credentialsId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cicd-pass"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义全局变量")]),t._v("\n                        env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("COMMIT_ID   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git log --pretty=format:%h'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  returnStdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提交ID")]),t._v("\n                        env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("COMMIT_USER "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git log --pretty=format:%an'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" returnStdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提交者")]),t._v("\n                        env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("COMMIT_TIME "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git log --pretty=format:%ai'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" returnStdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提交时间")]),t._v("\n                        env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("COMMIT_INFO "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git log --pretty=format:%s'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  returnStdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提交信息")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("REASON "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"拉取代码出错"')])]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'检测项目'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            steps "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                script "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        sh "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'''\n                            cat README.md\n                            echo ${COMMID}\n                        '''")]),t._v("\n                        sh "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"printenv"')])]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("REASON "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"检测项目出错"')])]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    post "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            script"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wrap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'BuildUser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    buildName "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("BUILD_ID")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("BRANCH")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("BUILD_USER")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 更改构建名称")]),t._v("\n                    currentBuild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("description "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"提交者: ')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("COMMIT_USER")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加说明信息")]),t._v("\n                    currentBuild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("description "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n构建主机: ')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("REMOTE_HOST")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加说明信息")]),t._v("\n                    currentBuild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("description "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n提交ID: ')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("COMMIT_ID")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加说明信息")]),t._v("\n                    currentBuild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("description "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n提交时间: ')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("COMMIT_TIME")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加说明信息")]),t._v("\n                    currentBuild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("description "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n提交内容: ')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("COMMIT_INFO")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加说明信息")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                sh "),s("span",{pre:!0,attrs:{class:"token interpolation-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"printenv"')])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cleanWs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br"),s("span",{staticClass:"line-number"},[t._v("88")]),s("br"),s("span",{staticClass:"line-number"},[t._v("89")]),s("br"),s("span",{staticClass:"line-number"},[t._v("90")]),s("br"),s("span",{staticClass:"line-number"},[t._v("91")]),s("br"),s("span",{staticClass:"line-number"},[t._v("92")]),s("br"),s("span",{staticClass:"line-number"},[t._v("93")]),s("br")])])])])])]),t._v(" "),s("h2",{attrs:{id:"_19-config-file-provider"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_19-config-file-provider"}},[t._v("#")]),t._v(" 19，Config File Provider")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://plugins.jenkins.io/config-file-provider")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：提供全局配置管理的一种优雅方式，通常在 pipeline 中的一些认证会用到这个配置。")]),t._v(" "),s("li",[t._v("使用方式：添加一些诸如 k8s 认证文件 config 配置的功能。")])]),t._v(" "),s("h2",{attrs:{id:"_20-extended-choice-parameter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_20-extended-choice-parameter"}},[t._v("#")]),t._v(" 20，extended-choice-parameter")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://plugins.jenkins.io/extended-choice-parameter")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：提供了一种灵活地参数化能力。回滚使用的这个插件。")]),t._v(" "),s("li",[t._v("使用方式：实现回滚版本选项列表的插件。")])]),t._v(" "),s("h2",{attrs:{id:"_21-docker-pipeline"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_21-docker-pipeline"}},[t._v("#")]),t._v(" 21，Docker Pipeline")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://plugins.jenkins.io/docker-workflow")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：提供了 pipeline 中 docker 环境隔离的能力。")]),t._v(" "),s("li",[t._v("使用方式：使用方式参考"),s("a",{attrs:{href:"https://wiki.eryajf.net/pages/3298.html#_11-docker",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v("。")])]),t._v(" "),s("h2",{attrs:{id:"_22-mysql-database"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_22-mysql-database"}},[t._v("#")]),t._v(" 22，MySQL Database")]),t._v(" "),s("ul",[s("li",[t._v("官方地址：https://plugins.jenkins.io/database-mysql/")]),t._v(" "),s("li",[t._v("安装方式：在 Jenkins 插件当中直接搜索即可安装。")]),t._v(" "),s("li",[t._v("功能说明：提供了 pipeline 中调用 MySQL 进行增删改查的能力。")]),t._v(" "),s("li",[t._v("使用方式：使用方式参考"),s("a",{attrs:{href:"https://wiki.eryajf.net/pages/ef36d8/",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v("。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);