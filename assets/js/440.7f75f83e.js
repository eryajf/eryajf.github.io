(window.webpackJsonp=window.webpackJsonp||[]).push([[440],{783:function(s,a,t){"use strict";t.r(a);var e=t(0),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),a("p",[s._v("Krew 本身是一个 kubectl 的插件，同时也是一个 kubectl 的插件包管理器。")]),s._v(" "),a("p",[s._v("借助 Krew，可以轻松地使用 kubectl plugin：发现插件、安装和管理插件。使用类似 apt、dnf 或者 brew。")]),s._v(" "),a("p",[s._v("截至今日，社区已有 242 个"),a("a",{attrs:{href:"https://krew.sigs.k8s.io/plugins/",target:"_blank",rel:"noopener noreferrer"}},[s._v("插件"),a("OutboundLink")],1),s._v("，借助这些插件，能够实现很多个性的需求。")]),s._v(" "),a("h2",{attrs:{id:"链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#链接"}},[s._v("#")]),s._v(" 链接")]),s._v(" "),a("ul",[a("li",[s._v("官网： "),a("a",{attrs:{href:"https://krew.sigs.k8s.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://krew.sigs.k8s.io/"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("插件列表： "),a("a",{attrs:{href:"https://krew.sigs.k8s.io/plugins/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://krew.sigs.k8s.io/plugins/"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("用户使用指南： "),a("a",{attrs:{href:"https://krew.sigs.k8s.io/docs/user-guide/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://krew.sigs.k8s.io/docs/user-guide/"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("开发者使用指南： "),a("a",{attrs:{href:"https://krew.sigs.k8s.io/docs/developer-guide/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://krew.sigs.k8s.io/docs/developer-guide/"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"离线安装-krew"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#离线安装-krew"}},[s._v("#")]),s._v(" 离线安装 krew")]),s._v(" "),a("p",[s._v("krew 是个好东西，它之所以在国内不够盛行，应该与受限于网络环境导致安装比较费劲儿有很大关系。因为 krew 自身以及插件的安装都是从 github 下载资源，大多数国内的 k8s 集群可能访问 github 都是比较费劲儿的，所以本文就来介绍一下如何离线安装 krew 及其插件。")]),s._v(" "),a("h3",{attrs:{id:"准备离线资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备离线资源"}},[s._v("#")]),s._v(" 准备离线资源")]),s._v(" "),a("p",[s._v("很多文章介绍的离线资源，仍旧是通过 github 下载之后获取到，然后再传到服务器进行安装，而有一些朋友可能本地连 github 也是有一些困难的，考虑到这一层原因，我特地把当前 krew 最新版本的包封装到镜像内，便于你直接拿到。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-itd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" krew registry.cn-hangzhou.aliyuncs.com/eryajf/pack:krew\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("可以看下我在包里准备的文件：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" krew tree\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n├── Dockerfile\n├── krew-darwin_amd64.tar.gz\n├── krew-darwin_arm64.tar.gz\n├── krew-linux_amd64.tar.gz\n├── krew-linux_arm.tar.gz\n├── krew-linux_arm64.tar.gz\n├── krew.yaml\n├── ns.yaml\n└── v0.9.5.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("准备了几个常见平台的安装包，这里不多赘述，你选择符合你的平台的包即可。最后的两个文件是插件 ns 对应的配置文件及安装包。")]),s._v(" "),a("p",[s._v("我这里以 "),a("code",[s._v("linux_amd64")]),s._v(" 为例，将所需资源拷贝到本地：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" krew:/app/krew.yaml ./\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" krew:/app/krew-linux_amd64.tar.gz ./\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xf krew-linux_amd64.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"执行安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行安装"}},[s._v("#")]),s._v(" 执行安装")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ./krew-linux_amd64 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--manifest")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("krew.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--archive")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("krew-linux_amd64.tar.gz\nInstalling plugin: krew\nInstalled plugin: krew\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Use this plugin:\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" \tkubectl krew\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Documentation:\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" \thttps://krew.sigs.k8s.io/\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Caveats:\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" krew is now installed"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" To start using kubectl plugins, you need to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" krew's installation directory to your "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   * macOS/Linux:\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     - Add the following to your ~/.bashrc or ~/.zshrc:\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${KREW_ROOT"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("$HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(".krew}")]),s._v("/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v('"')]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     - Restart your shell.\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   * Windows: Add %USERPROFILE%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(".krew"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin to your "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),s._v(" environment variable\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" To list krew commands and to get help, run:\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   $ kubectl krew\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" For a full list of available plugins, run:\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   $ kubectl krew search\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" You can "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" documentation at\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   https://krew.sigs.k8s.io/docs/user-guide/quickstart/.\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" /\n/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h3",{attrs:{id:"添加-krew-到环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加-krew-到环境变量"}},[s._v("#")]),s._v(" 添加 krew 到环境变量")]),s._v(" "),a("p",[s._v("将如上输出中的变量写入到环境变量中，我一般写入到 "),a("code",[s._v("/etc/profile")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n1")]),s._v(" /etc/profile\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${KREW_ROOT"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("$HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(".krew}")]),s._v("/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v('"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加载变量")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"验证是否生效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证是否生效"}},[s._v("#")]),s._v(" 验证是否生效")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ kubectl krew  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v("\nkrew is the kubectl plugin manager.\nYou can invoke krew through kubectl: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kubectl krew [command]..."')]),s._v("\n\nUsage:\n  kubectl krew "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("有这个输出则说明生效了。")]),s._v(" "),a("h2",{attrs:{id:"离线安装插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#离线安装插件"}},[s._v("#")]),s._v(" 离线安装插件")]),s._v(" "),a("p",[s._v("先介绍一下插件安装的思路，在 "),a("a",{attrs:{href:"https://github.com/kubernetes-sigs/krew-index/tree/master/plugins",target:"_blank",rel:"noopener noreferrer"}},[s._v("plugins"),a("OutboundLink")],1),s._v(" 目录下是所有插件的安装信息，拿 ns 插件举例，我们下载他的 yaml，然后可以过滤出安装包的地址：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ns.yaml "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" uri\n    uri: https://github.com/ahmetb/kubectx/archive/v0.9.5.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("通过这个地址下载对应的安装包，然后执行如下命令即可离线安装该插件：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ kubectl krew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--manifest")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ns.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--archive")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("v0.9.5.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("那上边我提供的安装包里也准备了这个插件，你可以直接拷贝并安装：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" krew:/app/ns.yaml ./\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" krew:/app/v0.9.5.tar.gz ./\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行安装")]),s._v("\n$ kubectl krew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--manifest")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ns.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--archive")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("v0.9.5.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("执行安装：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ kubectl krew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--manifest")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ns.yaml "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--archive")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("v0.9.5.tar.gz\nInstalling plugin: ns\nInstalled plugin: ns\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Use this plugin:\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" \tkubectl ns\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Documentation:\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" \thttps://github.com/ahmetb/kubectx\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Caveats:\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" If fzf is installed on your machine, you can interactively choose\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" between the entries using the arrow keys, or by fuzzy searching\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" as you type.\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" /\n/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("然后执行如下命令可以验证安装情况：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ kubectl ns\napp\ncattle-system\ncrane-system\ndefault\nkube-node-lease\nkube-public\nkube-system\ntcr-assistant-system\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("ns 插件就是提供列出命名空间功能的一个插件。")]),s._v(" "),a("p",[s._v("好啦，现在就成功安装了 krew 并演示了一个插件的安装，后续你遇到其他优秀的插件，就可以通过这个思路进行安装啦。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://t.eryajf.net/imgs/2024/04/1712506374025.jpeg",alt:""}})])])}),[],!1,null,null,null);a.default=r.exports}}]);